<!DOCTYPE html>
<html>
<head>
    <title>3-Tier Users</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        button { padding: 10px 15px; margin-bottom: 20px; cursor: pointer; }
        table { border-collapse: collapse; width: 50%; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <h2>Users List</h2>
    <button onclick="loadUsers()">Load Users</button>
    <div id="users"></div>

    <script>
        function loadUsers() {
            fetch("/users")
                .then(response => response.json())
                .then(data => {
                    if (data.length === 0) {
                        document.getElementById("users").innerHTML = "No users found.";
                        return;
                    }

                    let html = "<table>";
                    html += "<tr><th>ID</th><th>Name</th><th>Email</th><th>Age</th></tr>";
                    data.forEach(user => {
                        html += `<tr>
                                    <td>${user.id}</td>
                                    <td>${user.name}</td>
                                    <td>${user.email}</td>
                                    <td>${user.age}</td>
                                 </tr>`;
                    });
                    html += "</table>";
                    document.getElementById("users").innerHTML = html;
                })
                .catch(err => {
                    document.getElementById("users").innerHTML = "Error fetching users: " + err;
                });
        }
    </script>
</body>
</html>
